package assign3;

public class ALU {
	ReservationStation currentRS;
	private ReservationStation[] reservationStations;
	
	
	public ALU(ReservationStation[] reservationStations) {
		super();
		this.reservationStations = reservationStations;
	}
	
	public void work(int clock) {
		if(operate(clock)){ // it's time ;)
			currentRS.complete();
			currentRS.done();
			
			for(ReservationStation r : reservationStations){
				if(!(r.isVacant() || r.isMarked())){
					currentRS = r;
					r.setMark(true);
					setTime(clock);
					break;
				}
			}
		}else{
			return;
		}
	}

	private void setTime(int clock) {
		this.nextTime = clock;
	}

	private boolean operate(int clock) {
		// TODO do the operation and set result in inst
		return false;
	}
	
}
